<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Budget Details - Personal Finance Management</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="/">Finance Manager</a>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/user-dashboard">Dashboard</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/logout">Logout</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="container">
        <h2>Budget Details</h2>
        <div>
            <h3 th:text="${budget.budgetName}"></h3>
            <p>Amount: <span th:text="${budget.budgetAmount}"></span></p>
            <p>Start Date: <span th:text="${budget.budgetStartDate}"></span></p>
            <p>End Date: <span th:text="${budget.budgetEndDate}"></span></p>
        </div>
        <div>
            <h4>Categories</h4>
            <form th:action="@{/budget/{id}/add-category(id=${budget.budgetId})}" method="post">
                <div class="form-group">
                    <label for="categoryName">Category Name</label>
                    <input type="text" class="form-control" id="categoryName" name="name" required>
                </div>
                <div class="form-group">
                    <label for="allocatedAmount">Allocated Amount</label>
                    <input type="number" class="form-control" id="allocatedAmount" name="allocatedAmount" required>
                </div>
                <div class="form-group">
                    <label for="spentAmount">Spent Amount</label>
                    <input type="number" class="form-control" id="spentAmount" name="spentAmount" required>
                </div>
                <button type="submit" class="btn btn-primary">Add Category</button>
            </form>
            <div th:each="category : ${categories}">
                <h5 th:text="${category.name}"></h5>
                <p>Allocated Amount: <span th:text="${category.allocatedAmount}"></span></p>
                <p>Spent Amount: <span th:text="${category.spentAmount}"></span></p>
            </div>
        </div>
    </div>
</body>
</html>
